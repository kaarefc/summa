<xproperties>
    <xproperties>

        <!-- The RMI communications port -->
        <entry>
            <key>summa.control.service.port</key>
            <value class="int">27072</value>
        </entry>

        <!-- The class implementing the Service interface -->
        <entry>
            <key>control.launcher.service.class</key>
            <value class="string">dk.statsbiblioteket.summa.common.filter.FilterPump</value>
        </entry>

        <entry>
            <key>summa.control.service.id</key>
            <value class="string">AutoIndexService</value>
        </entry>


        <entry>
            <key>filterpump.chainname</key>
            <value class="string">Auto index test</value>
        </entry>
        <entry>
            <key>filtercontrol.chains</key>
            <value class="string">IndexChain</value>
        </entry>
        <entry>
            <key>filtercontrol.sequential</key>
            <value class="boolean">true</value>
        </entry>
        <entry>
            <key>IndexChain</key>
            <value class="xproperties">
                <entry>
                    <key>filterpump.filters</key>
                    <value class="string">StorageReader, FagrefTransformer, OldToNewTransformer, DocumentCreator, IndexUpdate</value>
                </entry>
                <entry>
                    <key>StorageReader</key>
                    <value class="xproperties">
                        <entry>
                            <key>filterpump.filterclass</key>
                            <value class="string">dk.statsbiblioteket.summa.storage.api.filter.RecordReader</value>
                        </entry>
                        <entry>
                            <key>summa.rpc.vendor</key>
                            <value class="string">//localhost:28000/summa-storage</value>
                        </entry>
                        <entry>
                            <key>summa.storage.recordreader.startfromscratch</key>
                            <value class="boolean">true</value>
                        </entry>
                        <entry>
                            <key>summa.storage.watcher.pollinterval</key>
                            <value class="int">500</value>
                        </entry>
                        <entry>
                            <key>summa.storage.recordreader.maxread.records</key>
                            <value class="int">-1</value>
                        </entry>
                        <entry>
                            <key>summa.storage.recordreader.base</key>
                            <value class="string">fagref</value>
                        </entry>
                        <entry>
                            <key>summa.storage.recordreader.stayalive</key>
                            <value class="boolean">true</value>
                        </entry>
                    </value>
                </entry>
                <entry>
                    <key>FagrefTransformer</key>
                    <value class="xproperties">
                        <entry>
                            <key>filterpump.filterclass</key>
                            <value class="string">dk.statsbiblioteket.summa.index.XMLTransformer</value>
                        </entry>
                        <entry>
                            <key>summa.xmltransformer.xslt</key>
                            <value class="string">[fagrefxslt]</value>
                        </entry>
                    </value>
                </entry>
                <entry>
                    <key>OldToNewTransformer</key>
                    <value class="xproperties">
                        <entry>
                            <key>filterpump.filterclass</key>
                            <value class="string">dk.statsbiblioteket.summa.index.XMLTransformer</value>
                        </entry>
                        <entry>
                            <key>summa.xmltransformer.xslt</key>
                            <value class="string">LegacyToSummaDocumentXML.xslt</value>
                        </entry>
                    </value>
                </entry>
                <entry>
                    <key>DocumentCreator</key>
                    <value class="xproperties">
                        <entry>
                            <key>filterpump.filterclass</key>
                            <value class="string">dk.statsbiblioteket.summa.index.lucene.DocumentCreator</value>
                        </entry>
                        <entry>
                            <key>summa.index.descriptorsetup</key>
                            <value class="xproperties">
                                <entry>
                                    <key>summa.common.index-descriptor.absolute-location</key>
                                    <value class="string">[indexdescriptor]</value>
                                </entry>
                            </value>
                        </entry>
                    </value>
                </entry>
                <entry>
                    <key>IndexUpdate</key>
                    <value class="xproperties">
                        <entry>
                            <key>filterpump.filterclass</key>
                            <value class="string">dk.statsbiblioteket.summa.index.IndexControllerImpl</value>
                        </entry>
                        <entry>
                            <key>summa.index.manipulators</key>
                            <value class="string">LuceneUpdater, FacetUpdater</value>
                        </entry>
                        <entry>
                            <key>summa.index.createnewindex</key>
                            <value class="boolean">true</value><!-- Yes, true! -->
                        </entry>
                        <entry>
                            <key>summa.index.indexrootlocation</key>
                            <value class="string">[indexroot]</value>
                        </entry>
                        <entry>
                            <!-- Commit for every document received -->
                            <key>summa.index.commitmaxdocuments</key>
                            <value class="int">1</value>
                        </entry>
                        <entry>
                            <!-- Don't bother about consolidation -->
                            <key>summa.index.consolidatetimeout</key>
                            <value class="int">-1</value>
                        </entry>
                        <entry>
                            <key>LuceneUpdater</key>
                            <value class="xproperties">
                                <entry>
                                    <key>summa.index.manipulatorclass</key>
                                    <value class="string">dk.statsbiblioteket.summa.index.lucene.LuceneManipulator</value>
                                </entry>
                                <entry>
                                    <key>summa.index.descriptorsetup</key>
                                    <value class="xproperties">
                                        <entry>
                                            <key>summa.common.indexdescriptor.absolutelocation</key>
                                            <value class="string">[indexdescriptor]</value>
                                        </entry>
                                    </value>
                                </entry>
                            </value>
                        </entry>
                        <entry>
                            <key>FacetUpdater</key>
                            <value class="xproperties">
                                <entry>
                                    <key>summa.index.manipulatorclass</key>
                                    <value class="string">dk.statsbiblioteket.summa.facetbrowser.FacetManipulator</value>
                                </entry>
                                <entry>
                                    <key>summa.facet.facets</key>
                                    <value class="list">
                                        <xproperties>
                                            <entry>
                                                <key>summa.facet.name</key>
                                                <value class="string">author</value>
                                            </entry>
                                            <entry>
                                                <key>summa.facet.fields</key>
                                                <value class="list">
                                                    <item class="string">author_person</item>
                                                </value>
                                            </entry>
                                        </xproperties>
                                        <xproperties>
                                            <entry>
                                                <key>summa.facet.name</key>
                                                <value class="string">title</value>
                                            </entry>
                                            <entry>
                                                <key>summa.facet.fields</key>
                                                <value class="list">
                                                    <item class="string">sort_title</item>
                                                </value>
                                            </entry>
                                        </xproperties>
                                    </value>
                                </entry>
                            </value>
                        </entry>
                    </value>
                </entry>
            </value>
        </entry>
    </xproperties>
</xproperties>


