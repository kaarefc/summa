<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
</head>
<body bgcolor="white">
Pre-configured parsing of MARC-XML.<br>


Various dialects on MARC exists all sharing the same model ->
DATA is a SET of Nodes in a fixed hierakey. Tag->Subtag->value.
makes parsing almost universal, but also abstract.

This package provides a configurable MARC parsing. Allowing the user to specify
<ul>
    <li>A number of candidate nodes for ID discovery, and configure a Priority between candidates.</li>
    <li>Configure where to look for State information</li>
    <li>Switch on a build-in multi volume discovery service. (normalize to MARC21 like structure opposed to hiracical DanMARC)

    <ol>
        <li>MainRecord - defined by {datafield:004,subfield:a,value:h}</li>
        <li>SectionRecord - defined by {datafield:004,subfield:a,value:s OR h} AND has {datafield:014}</li>
        <li>IssueRecord - defined by {datafield:004,subfield:a,value:b}</li>
    </ol>
        The order is determined by:
    <ol>
        <li>IF Main OR Selection has {datafield:015,subfield:a AND subfield:v,} Then ID on Child in subfield:a AND childPos in subfield:b</li>
        <li>ELSE IF ISSUE has {datafield:245,subfield:g} then value = position in Main OR Section</li>
        <li>ELSE order of {datafield:015} in Main or Section</li>
    </ol>


</ul>



<h2>Related Documentation</h2>

The OAI-PMH protocol defines the meta data format parsed by this parser.
Only the mandatory dublin core meta data describing records and OAI-PMH mandatory elements.
<ul>
  <li><a href="http://www.openarchives.org/OAI/openarchivesprotocol.html">The Open Archives Initiative Protocol for Metadata Harvesting</a>
</ul>

<h2>Configuration Example</h2>

<pre>
{@code
<entry key="horizon">/home/summa/data/horizon</entry>
<entry key="horizon_run">true</entry>
<entry key="horizon_DigesterClass">dk.statsbiblioteket.summa.ingest.MARCXML.MARCXMLDirectoryDigester</entry>
<entry key="horizon_full_ingest">false</entry>
<entry key="horizon_flerbind_xslt">flerbind.xslt</entry>
<entry key="horizon_encoding">UTF-8</entry>
<entry key="horizon_idkey">994</entry>
<entry key="horizon_id_subfields_priority">a,1;z,2</entry>
<entry key="horizon_prefix">horizon_</entry>
<entry key="horizon_check_output">true</entry>
<entry key="horizon_base_name">horizon</entry>}
</pre>

</body>
</html>